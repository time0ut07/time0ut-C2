import requests
import socket
import base64
import json
import os
import time

def send_heartbeat(client_socket):
    try:
        client_socket.send(b"Heartbeat")
    except socket.error:
        print("Error sending heartbeat")
        return False
    return True
try:
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("192.168.18.1", 1337))
except: print("Failed")
def main():
    while True:
        try:
            data = s.recv(4096)
            if not data:
                print("Connection closed by the server.")
                break

            # Handle different types of server requests
            if data == b"Request_Heartbeat":
                # Respond to heartbeat request
                send_heartbeat(s)
                    
        except socket.error as e:
            print(f"Error receiving data: {e}")
            break
if __name__ == "__main__":
    main()
